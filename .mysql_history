use cs431s17
show databases
;
show tables;
set password = password("fdsn6238*");
SHOW VARIABLES LIKE '%version%';
show databases
;
use cs431s17
show tables
;
CREATE TABLE users (ID int PRIMARY KEY, UserFullName VARCHAR(255) NOT NULL, Username VARCHAR(25) NOT NULL, Password VARCHAR(40) NOT NULL);
show tables
;
CREATE TABLE mailbox (MessageID int PRIMARY KEY, Subject BLOB NOT NULL, MsgTime datetime NOT NULL, MsgText BLOB NOT NULL, Sender VARCHAR(25), Receiver VARCHAR(25), Status VARCHAR(25));
show tables
;
CREATE TABLE users (UserFullName VARCHAR(255) NOT NULL, Username VARCHAR(50) PRIMARY KEY, Password VARCHAR(40) NOT NULL);
drop table users;
CREATE TABLE users (UserFullName VARCHAR(255) NOT NULL, Username VARCHAR(50) PRIMARY KEY, Password VARCHAR(40) NOT NULL);
drop table mailbox;
CREATE TABLE mailbox (MessageID int PRIMARY KEY, Subject BLOB NOT NULL, MsgTime datetime NOT NULL, MsgText BLOB NOT NULL, Sender VARCHAR(50), Receiver VARCHAR(50), Status VARCHAR(25));
show tables;
show databases
;
use cs431s17
show tables;
select * from users
;
describe users;
describe mailbox;
ALTER TABLE mailbox MODIFY COLUMN Sender VARCHAR(50) NOT NULL, ADD CONSTRAINT users_username_sender_fk FOREIGN KEY(Sender) REFERENCES users(Username), ADD CONSTRAINT users_username_receiver_fk FOREIGN KEY(Receiver) REFERENCES users(Username);
show create users;
show create table users;
show create table mailbox;
drop table mailbox;
CREATE TABLE mailbox (MessageID int PRIMARY KEY, Subject blob NOT NULL, MsgTime datetime NOT NULL, MsgText blob NOT NULL, Sender VARCHAR(50) NOT NULL, RECEIVER VARCHAR(50) NOT NULL, Status VARCHAR(25) NOT NULL);
ALTER TABLE mailbox MODIFY COLUMN Sender VARCHAR(50) NOT NULL, ADD CONSTRAINT users_username_sender_fk FOREIGN KEY(Sender) REFERENCES users(Username);
ALTER TABLE mailbox MODIFY COLUMN Receiver VARCHAR(50) NOT NULL, ADD CONSTRAINT users_username_receiver_fk FOREIGN KEY(Receiver) REFERENCES users(Username);
show create table mailbox;
ALTER TABLE mailbox MODIFY COLUMN MessageID int IDENTITY(1,1) PRIMARY KEY;
ALTER TABLE mailbox MODIFY COLUMN MessageID int AUTO_INCREMENT PRIMARY KEY;
ALTER TABLE mailbox MODIFY COLUMN MessageID int AUTO_INCREMENT;
insert into mailbox values (null, 'Test', now(), 'test', 'James', 'James', 'Good');
select * from mailbox
;
select * from mailbox;
describe users;
drop table users;
CREATE TABLE users (UserID INT AUTO_INCREMENT PRIMARY KEY, UserFullName VARCHAR(255) NOT NULL, Username VARCHAR(50) NOT NULL UNIQUE, Password VARCHAR(40) NOT NULL);
describe users
describe mailbox;
drop table mailbox;
create table mailbox (MessageID int AUTO_INCREMENT PRIMARY KEY, Subject blob NOT NULL, MsgTime datetime NOT NULL DEFAULT NOW(), MsgText blob NOT NULL, Sender_userID int NOT NULL, Receiver_userID int NOT NULL, Status ENUM('New', 'Read', 'Deleted) NOT NULL DEFAULT 'New');
show tables;
show databases;
use cs431s17;
show tables;
create table mailbox (MessageID int AUTO_INCREMENT PRIMARY KEY, Subject blob NOT NULL, MsgTime datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, MsgText blob NOT NULL, Sender_userID int NOT NULL, Receiver_userID int NOT NULL, Status ENUM('New', 'Read', 'Deleted) NOT NULL DEFAULT 'New');
;
quit
exit
\c
/c
\C
use cs431s17
show tables;
create table mailbox (MessageID int AUTO_INCREMENT PRIMARY KEY, Subject blob NOT NULL, MsgTime datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, MsgText blob NOT NULL, Sender_userID int NOT NULL, Receiver_userID int NOT NULL, Status ENUM('New', 'Read', 'Deleted') NOT NULL DEFAULT 'New');
create table mailbox (MessageID int AUTO_INCREMENT PRIMARY KEY, Subject blob NOT NULL, MsgTime datetime NOT NULL, MsgText blob NOT NULL, Sender_userID int NOT NULL, Receiver_userID int NOT NULL, Status ENUM('New', 'Read', 'Deleted') NOT NULL DEFAULT 'New');
show tables;
drop table mailbox;
create table mailbox (MessageID int AUTO_INCREMENT PRIMARY KEY, Subject blob NOT NULL, MsgTime datetime NOT NULL, MsgText blob NOT NULL, Sender_userID int NOT NULL, Receiver_userID int NOT NULL, Status ENUM('New', 'Read', 'Deleted') NOT NULL DEFAULT 'New', FOREIGN KEY (user_sender_fk) REFERENCES users(userid), FOREIGN KEY(user_receiver_fk) REFERENCES users(usreid));
create table mailbox (MessageID int AUTO_INCREMENT PRIMARY KEY, Subject blob NOT NULL, MsgTime datetime NOT NULL, MsgText blob NOT NULL, Sender_userID int NOT NULL, Receiver_userID int NOT NULL, Status ENUM('New', 'Read', 'Deleted') NOT NULL DEFAULT 'New', FOREIGN KEY (Sender_userID) REFERENCES users(userid), FOREIGN KEY(Receiver_userID) REFERENCES users(usreid));
drop table mailbox
;
create table mailbox (MessageID int AUTO_INCREMENT PRIMARY KEY, Subject blob NOT NULL, MsgTime datetime NOT NULL, MsgText blob NOT NULL, Sender_userID int NOT NULL, Receiver_userID int NOT NULL, Status ENUM('New', 'Read', 'Deleted') NOT NULL DEFAULT 'New', FOREIGN KEY (Sender_userID) REFERENCES users(userid), FOREIGN KEY(Receiver_userID) REFERENCES users(userid));
describe mailbox;
show foreign keys mailbox
;
select
  TABLE_NAME,COLUMN_NAME,CONSTRAINT_NAME, REFERENCED_TABLE_NAME,REFERENCED_COLUMN_NAME
from INFORMATION_SCHEMA.KEY_COLUMN_USAGE
where
  REFERENCED_TABLE_NAME = 'My_Table';
select   TABLE_NAME,COLUMN_NAME,CONSTRAINT_NAME, REFERENCED_TABLE_NAME,REFERENCED_COLUMN_NAME from INFORMATION_SCHEMA.KEY_COLUMN_USAGE where   REFERENCED_TABLE_NAME = 'My_Table';
select TABLE_NAME,COLUMN_NAME,CONSTRAINT_NAME, REFERENCED_TABLE_NAME,REFERENCED_COLUMN_NAME from INFORMATION_SCHEMA.KEY_COLUMN_USAGE where REFERENCED_TABLE_NAME = 'mailbox';
select
    concat(table_name, '.', column_name) as 'foreign key',  
    concat(referenced_table_name, '.', referenced_column_name) as 'references'
from
    information_schema.key_column_usage
where
    referenced_table_name is not null;
select     concat(table_name, '.', column_name) as 'foreign key',       concat(referenced_table_name, '.', referenced_column_name) as 'references' from     information_schema.key_column_usage where     referenced_table_name is not null;
ALTER TABLE mailbox MODIFY COLUMN Receiver_userID int NOT NULL, ADD CONSTRAINT users_receiver_fk FOREIGN KEY(Receiver) REFERENCES users(userID);
ALTER TABLE mailbox MODIFY COLUMN Receiver_userID int NOT NULL, ADD CONSTRAINT users_receiver_fk FOREIGN KEY(Receiver_userID) REFERENCES users(userID);
ALTER TABLE mailbox MODIFY COLUMN Sender_userID int NOT NULL, ADD CONSTRAINT users_sender_fk FOREIGN KEY(Sender_userID) REFERENCES users(userID);
select     concat(table_name, '.', column_name) as 'foreign key',       concat(referenced_table_name, '.', referenced_column_name) as 'references' from     information_schema.key_column_usage where     referenced_table_name is not null;
describe mailbox;
drop table mailbox;
create table mailbox (MessageID int AUTO_INCREMENT PRIMARY KEY, Subject blob NOT NULL, MsgTime datetime NOT NULL, MsgText blob NOT NULL, Sender_userID int NOT NULL, Receiver_userID int NOT NULL, Status ENUM('New', 'Read', 'Deleted') NOT NULL DEFAULT 'New', FOREIGN KEY (Sender_userID) REFERENCES users(userid), FOREIGN KEY(Receiver_userID) REFERENCES users(userid));
describe mailbox;
show databases
;
use cs431s17;
show tables;
select * from users;
describe users;
ls
;
use cs431s17
show tables;
describe mailbox;
describe users;
insert into mailbox values (0, 'Test', now(), 'Testing', 1, 1, 'New');
insert into mailbox values (0, 'Test2', now(), 'Testing2', 1, 1, 'Read');
insert into mailbox values (0, 'Test3', now(), 'Testing3', 1, 1, 'New');
use cs431s17
show tables;
select * from users;
delete from users where userid = 4;
select * from users;
use cs431s17
select * from mailbox;
use cs431s17
select * from users;
use cs431s17
show tables;
select * from users
;
ls
;
use cs431s17
show tables;
select * from users;
show create message;
show create mailbox;
show create table mailbox;
create table photos(ImageID int(11) NOT NULL auto_increment, PhotoName varchar(255) NOT NULL, Caption TEXT not null, PhotoData BLOB NOT NULL, Upload_userID int(11) NOT NULL, PRIMARY KEY (ImageID), KEY PhotoName (PhotoName), KEY Caption (Caption))ENGINE=MYISAM Auto_Increment=10 DEFAULT Charset=utf8;
create table photos(ImageID int(11) NOT NULL auto_increment, PhotoName varchar(255) NOT NULL, Caption TEXT not null, PhotoData BLOB() NOT NULL, Upload_userID int(11) NOT NULL, PRIMARY KEY (ImageID), KEY PhotoName (PhotoName), KEY Caption (Caption(255)))ENGINE=MYISAM Auto_Increment=10 DEFAULT Charset=utf8;
create table photos(ImageID int(11) NOT NULL auto_increment, PhotoName varchar(255) NOT NULL, Caption TEXT not null, PhotoData BLOB NOT NULL, Upload_userID int(11) NOT NULL, PRIMARY KEY (ImageID), KEY PhotoName (PhotoName), KEY Caption (Caption(255)))ENGINE=MYISAM Auto_Increment=10 DEFAULT Charset=utf8;
describe photos;
use cs431s17
select * from users;
select * from mailbox;
select * from mailbox order by id;
select * from mailbox order by mailboxid;
describe mailbox
;
select * from mailbox order by messageid;
select * from users;
:q
;
use cs431s17
select * from users;
select * from mailbox order by messageid;
select * from photos;
describe photos;
insert into photos values (0, 'James', 'James is testing', '', 5);
truncate table photos;
use cs431s17
select * from photos;
select count(*) from photos;
truncate table photos;
ls
;
use cs431s17
truncate table photos;
use cs431s17
select * from users;
select * from mailbox;
use cs431s17
select * from mailbox order by messageid
;
select * from users;
use cs431s17
select * from photos;
show tables;
truncate table photos;
select * from photos;
PuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTY
;
describe photos;
select imageID, photoName, Caption, Upload_userID from photos;
SELECT u.Username, p.ImageID, p.PhotoName, p.Caption FROM photos p, users u WHERE u.UserID = p.Upload_userID AND (p.PhotoName LIKE '%test%' OR p.Caption LIKE '%test%') ORDER BY p.ImageID;
truncate table photos;
show create photos;
show create table photos;
CREATE TABLE `photos` (
  `ImageID` int(11) NOT NULL auto_increment,
  `PhotoName` varchar(255) NOT NULL,
  `Caption` text NOT NULL,
  `PhotoData` blob NOT NULL,
  `Upload_userID` int(11) NOT NULL,
  PRIMARY KEY  (`ImageID`),
  KEY `PhotoName` (`PhotoName`),
  KEY `Caption` (`Caption`(255))
use cs431s17
drop table photos;
CREATE TABLE `photos` (`ImageID` int(11) NOT NULL auto_increment, `PhotoName` varchar(255) NOT NULL, `Caption` text NOT NULL, `PhotoData` longblob NOT NULL, `Upload_userID` int(11) NOT NULL, PRIMARY KEY  (`ImageID`), KEY `PhotoName` (`PhotoName`), KEY `Caption` (`Caption`(255))) ENGINE=MyISAM DEFAULT CHARSET=utf8;
select * from photos;
truncate table photos;
SELECT u.Username, p.ImageID, p.PhotoName, p.Caption FROM photos p, users u WHERE u.UserID = p.Upload_userID AND (p.PhotoName LIKE '%test%' OR p.Caption LIKE '%test%') ORDER BY p.ImageID;
select * from users;
ls
;
use cs431s17
select * from photos;
PuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTY6cPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTY6cPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTY6cPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYquit
;
describe photos;
select imageID, photoname, caption, upload_userID from photos;
truncate table photos;
select * from photos;
use cs431s17
select * from users;
describe pictures;
show tables;
describe photos;
select imageid, photoname, caption,Upload_userID from photos;
use cs431s17;
select * from users;
show tables;
ls
;
use cs431s17
show databases;
select * from users;
select * into tmp_users from users;
insert into temp_users select * from users;
select * from users into tmp_users;
select * into tmp_users from users;
create table tmp_users from users;
create table tmp_users select * from users;
select * from tmp_users;
drop table users;
CREATE TABLE `users` (
  `USERFULLNAME` varchar(500) NOT NULL,
  `USERNAME` varchar(45) NOT NULL,
  `PASSWORD` varchar(45) NOT NULL,
  `STATUS` varchar(45) NOT NULL,
  PRIMARY KEY  (`USERNAME`),
  KEY `idx_users_USERNAME` (`USERNAME`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `users` (   `USERFULLNAME` varchar(500) NOT NULL,   `USERNAME` varchar(45) NOT NULL,   `PASSWORD` varchar(45) NOT NULL,   `STATUS` varchar(45) NOT NULL,   PRIMARY KEY  (`USERNAME`),   KEY `idx_users_USERNAME` (`USERNAME`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
select * from users;
describe users;
describe tmp_users;
drop table users;
CREATE TABLE `users` (
`USERID`  int NOT NULL AUTO_INCREMENT,
  `USERFULLNAME` varchar(500) NOT NULL,
  `USERNAME` varchar(45) NOT NULL,
  `PASSWORD` varchar(45) NOT NULL,
  `STATUS` varchar(45) NOT NULL,
  PRIMARY KEY  (`USERNAME`),
  KEY `idx_users_USERID` (`USERID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `users` ( `USERID`  int NOT NULL AUTO_INCREMENT,   `USERFULLNAME` varchar(500) NOT NULL,   `USERNAME` varchar(45) NOT NULL,   `PASSWORD` varchar(45) NOT NULL,   `STATUS` varchar(45) NOT NULL,   PRIMARY KEY  (`USERNAME`),   KEY `idx_users_USERID` (`USERID`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
select * from users;
drop table users;
CREATE TABLE `users` (
`USERID`  int NOT NULL AUTO_INCREMENT,
  `USERFULLNAME` varchar(500) NOT NULL,
  `USERNAME` varchar(45) NOT NULL,
  `PASSWORD` varchar(45) NOT NULL,
  `STATUS` enum(‘User’, ‘Admin’,’Banned’) NOT NULL DEFAULT ‘User’,
  PRIMARY KEY  (`USERNAME`),
  KEY `idx_users_USERID` (`USERID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `users` ( `USERID`  int NOT NULL AUTO_INCREMENT,   `USERFULLNAME` varchar(500) NOT NULL,   `USERNAME` varchar(45) NOT NULL,   `PASSWORD` varchar(45) NOT NULL,   `STATUS` enum(‘User’, ‘Admin’,’Banned’) NOT NULL DEFAULT ‘User’,   PRIMARY KEY  (`USERNAME`),   KEY `idx_users_USERID` (`USERID`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `users` ( `USERID`  int NOT NULL AUTO_INCREMENT,   `USERFULLNAME` varchar(500) NOTclrmin’,’Banned’) NOT NULL DEFAULT ‘User’,   PRIMARY KEY  (`USERNAME`),   KEY `idx_users_USERID` (`USERID`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `users` (
`USERID`  int NOT NULL AUTO_INCREMENT,
  `USERFULLNAME` varchar(500) NOT NULL,
  `USERNAME` varchar(45) NOT NULL,
  `PASSWORD` varchar(45) NOT NULL,
  `STATUS` enum('User', 'Admin', 'Banned') NOT NULL DEFAULT 'User',
  PRIMARY KEY  (`USERNAME`),
  KEY `idx_users_USERID` (`USERID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `users` ( `USERID`  int NOT NULL AUTO_INCREMENT,   `USERFULLNAME` varchar(500) NOT NULL,   `USERNAME` varchar(45) NOT NULL,   `PASSWORD` varchar(45) NOT NULL,   `STATUS` enum('User', 'Admin', 'Banned') NOT NULL DEFAULT 'User',   PRIMARY KEY  (`USERNAME`),   KEY `idx_users_USERID` (`USERID`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
select * from users;
describe users;
describe tmp_users;
insert into users (userfullname, username, password) select userfullname, username, password from tmp_users;
select * from users;
select * from users order by userid;
update users set status = 'Admin' where userid = 3;
select * from users order by userid;
show create users;
show create table users;
select * from mailbox;
describe mailbox;
show tables;
select * from tmp_users;
drop table tmp_users;
select * from users;
Create table tmp_users select * from users;
select * from tmp_users;
drop table users;
CREATE TABLE `users` (
`userID`  int NOT NULL AUTO_INCREMENT,
  `userFullName` varchar(500) NOT NULL,
  `username` varchar(45) NOT NULL,
  `password` varchar(45) NOT NULL,
  `status` enum('User', 'Admin', 'Banned') NOT NULL DEFAULT 'User',
  PRIMARY KEY  (`userID`),
  KEY `idx_users_userID` (`userID`),
  UNIQUE KEY `unq_idx_users_username` (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `users` ( `userID`  int NOT NULL AUTO_INCREMENT,   `userFullName` varchar(500) NOT NULL,   `username` varchar(45) NOT NULL,   `password` varchar(45) NOT NULL,   `status` enum('User', 'Admin', 'Banned') NOT NULL DEFAULT 'User',   PRIMARY KEY  (`userID`),   KEY `idx_users_userID` (`userID`),   UNIQUE KEY `unq_idx_users_username` (`username`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
select * from users;
show create table users;
insert into users (userfullname, username, password, status) SELECT userfullname, username, password, status FROM tmp_users order by userid;
select * from users;
drop table tmp_users;
show tables;
describe mailbox;
create table tmp_mailbox select * from mailbox;
drop table mailbox;
CREATE TABLE `mailbox` (
  `messageID` int(11) NOT NULL auto_increment,
  `subject` blob default NULL,
  `msgTime` datetime default NULL,
  `msgText` blob default NULL,
  `sender_userID` int NOT NULL,
  `receiver_userID` int NOT NULL,
  `status` enum('New', 'Read', 'Deleted') default 'New',
  PRIMARY KEY  (`messageID`),
  KEY `idx_mailbox_messageID` (`messageID`),
  KEY `idx_sender_userID` (`sender_userID`),
  KEY `idx_receiver_userID` (`receiver_userID`),
  CONSTRAINT `FK_receiver_userID` FOREIGN KEY (`receiver_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `FK_sender_userID` FOREIGN KEY (`sender_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=69 DEFAULT CHARSET=utf8;
CREATE TABLE `mailbox` (   `messageID` int(11) NOT NULL auto_increment,   `subject` blob default NULL,   `msgTime` datetime default NULL,   `msgText` blob default NULL,   `sender_userID` int NOT NULL,   `receiver_userID` int NOT NULL,   `status` enum('New', 'Read', 'Deleted') default 'New',   PRIMARY KEY  (`messageID`),   KEY `idx_mailbox_messageID` (`messageID`),   KEY `idx_sender_userID` (`sender_userID`),   KEY `idx_receiver_userID` (`receiver_userID`),   CONSTRAINT `FK_receiver_userID` FOREIGN KEY (`receiver_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION,   CONSTRAINT `FK_sender_userID` FOREIGN KEY (`sender_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION ) ENGINE=InnoDB AUTO_INCREMENT=69 DEFAULT CHARSET=utf8;
select * from mailbox;
select * from tmp_mailbox;
describe tmp_mailbox;
describe mailbox;
insert into mailbox (subject, msgTime, msgText, sender_userID, receiver_userID, status) SELECT Subject, MsgTime, MsgText, Sender_userID, Receiver_userID, Status FROM tmp_mailbox;
drop table tmp_mailbox;
show tables;
describe users;
update users set status = 'Banned' where username = 'jamestown';
describe photos;
CREATE TABLE `forum` (
  `forumID` int NOT NULL auto_increment,
  `forumName` varchar(100) NOT NULL,
  `description` text default NULL,
  `status` enum('Review', 'Live') default NULL,
  `picture` longblob default NULL,
  `moderator_userID` int NOT NULL,
  PRIMARY KEY  (`forumID`),
  KEY `idx_moderator_userID` (`moderator_userID`),
  CONSTRAINT `FK_moderator_userID` FOREIGN KEY (`moderator_userID`) REFERENCE `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `forum` (   `forumID` int NOT NULL auto_increment,   `forumName` varchar(100) NOT NULL,   `description` text default NULL,   `status` enum('Review', 'Live') default NULL,   `picture` longblob default NULL,   `moderator_userID` int NOT NULL,   PRIMARY KEY  (`forumID`),   KEY `idx_moderator_userID` (`moderator_userID`),   CONSTRAINT `FK_moderator_userID` FOREIGN KEY (`moderator_userID`) REFERENCE `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `forum` (   `forumID` int NOT NULL auto_increment,   `forumName` varchar(100) NOT NULL,   `description` text default NULL,   `status` enum('Review', 'Live') default NULL,   `picture` longblob default NULL,   `moderator_userID` int NOT NULL,   PRIMARY KEY  (`forumID`),   KEY `idx_moderator_userID` (`moderator_userID`),   CONSTRAINT `FK_moderator_userID` FOREIGN KEY (`moderator_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
select * from forum;
describe forum;
drop table forum;
CREATE TABLE `forum` (
  `forumID` int NOT NULL auto_increment,
  `forumName` varchar(100) NOT NULL,
  `description` text default NULL,
  `status` enum('Review', 'Live') NOT NULL default 'Review',
  `picture` longblob default NULL,
  `moderator_userID` int NOT NULL,
  PRIMARY KEY  (`forumID`),
  KEY `idx_moderator_userID` (`moderator_userID`),
  CONSTRAINT `FK_moderator_userID` FOREIGN KEY (`moderator_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `forum` (   `forumID` int NOT NULL auto_increment,   `forumName` varchar(100) NOT NULL,   `description` text default NULL,   `status` enum('Review', 'Live') NOT NULL default 'Review',   `picture` longblob default NULL,   `moderator_userID` int NOT NULL,   PRIMARY KEY  (`forumID`),   KEY `idx_moderator_userID` (`moderator_userID`),   CONSTRAINT `FK_moderator_userID` FOREIGN KEY (`moderator_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
use cs431s17;
select * from users;
:q
;
use cs431s17
show tables;
select * from forum;
describe forum;
insert into forum (forumName, description, status, picture, moderator_userID) values ('General', 'All purpose forum to post on general topics', 'Live', 0);
insert into forum (forumName, description, status, picture, moderator_userID) values ('General', 'All purpose forum to post on general topics', 'Live', null, 0);
select * from users;
insert into forum (forumName, description, status, picture, moderator_userID) values ('General', 'All purpose forum to post on general topics', 'Live', null, 2);
insert into forum (forumName, description, status, picture, moderator_userID) values ('Politics', 'A pforum to post your opinion on political topics', 'Live', null, 2);
insert into forum (forumName, description, status, picture, moderator_userID) values ('Sports', 'If it''s on ESPN you can talk about it here', 'Live', null, 2);
select * from forums;
select * from forum;
use cs431s17
select * from forums;
select * from forum;
update forum set moderator_userID = 3 WHERE forumID = 2;
show tables;
select * from users;
SELECT f.*, u.username FROM forum f, users u WHERE f.moderator_userID = u.userID
;
SELECT f.*, u.username FROM forum f, users u WHERE f.moderator_userID = u.userID ORDER BY f.forumName;"
;
SELECT f.*, u.username FROM forum f, users u WHERE f.moderator_userID = u.userID ORDER BY f.forumName;"
;
"
;
;
SELECT f.*, u.username FROM forum f, users u WHERE f.moderator_userID = u.userID ORDER BY f.forumName;";
SELECT f.*, u.username FROM forum f, users u WHERE f.moderator_userID = u.userID ORDER BY f.forumName;
use cs431s17
select * from forum;
describe user;
describe users;
use cs431s17
select * from forum;
describe forum;
select * from forum;
update forum set status = 'Review' where forumID = 2;
describe user;
describe users;
SELECT f.*, u.username FROM forum f, users u WHERE f.moderator_userID = u.userID AND f.forumID = 3;
select * from forum;
PuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTY6cPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTY
;
select * from users;
describe forum;
select forumID, forumName from forum;
show tables;
show create table forum;
show databases;
create database project;
show databases;
use cs431s17
select * from users;
describe users;
use cs431s17
describe forum;
CREATE TABLE `thread` (
  `forumID` int NOT NULL,
  `threadID` int NOT NULL AUTO_INCREMENT,
  `title` varchar(500) NOT NULL,
  `addedDate` datetime NOT NULL,
  `status` enum(‘Open’, ‘Closed’, ‘Removed’) NOT NULL DEFAULT ‘Open’,
  `start_userID` int NOT NULL,
  PRIMARY KEY (`forumID`,`threadID`),
  CONSTRAINT `FK_start_userID` FOREIGN KEY (`start_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `thread` (   `forumID` int NOT NULL,   `threadID` int NOT NULL AUTO_INCREMENT,   `title` varchar(500) NOT NULL,   `addedDate` datetime NOT NULL,   `status` enum(‘Open’, ‘Closed’, ‘Removed’) NOT NULL DEFAULT ‘Open’,   `start_userID` int NOT NULL,   PRIMARY KEY (`forumID`,`threadID`),   CONSTRAINT `FK_start_userID` FOREIGN KEY (`start_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `thread` (
  `forumID` int NOT NULL,
  `threadID` int NOT NULL AUTO_INCREMENT,
  `title` varchar(500) NOT NULL,
  `addedDate` datetime NOT NULL,
  `status` enum('Open', 'Closed', 'Removed') NOT NULL DEFAULT 'Open',
  `start_userID` int NOT NULL,
  PRIMARY KEY (`forumID`,`threadID`),
  CONSTRAINT `FK_start_userID` FOREIGN KEY (`start_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `thread` (   `forumID` int NOT NULL,   `threadID` int NOT NULL AUTO_INCREMENT,   `title` varchar(500) NOT NULL,   `addedDate` datetime NOT NULL,   `status` enum('Open', 'Closed', 'Removed') NOT NULL DEFAULT 'Open',   `start_userID` int NOT NULL,   PRIMARY KEY (`forumID`,`threadID`),   CONSTRAINT `FK_start_userID` FOREIGN KEY (`start_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `thread` (
  `forumID` int NOT NULL,
  `threadID` int NOT NULL AUTO_INCREMENT,
  `title` varchar(500) NOT NULL,
  `addedDate` datetime NOT NULL,
  `status` enum('Open', 'Closed', 'Removed') NOT NULL DEFAULT 'Open',
  `start_userID` int NOT NULL,
  PRIMARY KEY (`forumID`,`threadID`),
  KEY `idx_start_userID` (`start_userID`),
  CONSTRAINT `FK_start_userID` FOREIGN KEY (`start_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `thread` (   `forumID` int NOT NULL,   `threadID` int NOT NULL AUTO_INCREMENT,   `title` varchar(500) NOT NULL,   `addedDate` datetime NOT NULL,   `status` enum('Open', 'Closed', 'Removed') NOT NULL DEFAULT 'Open',   `start_userID` int NOT NULL,   PRIMARY KEY (`forumID`,`threadID`),   KEY `idx_start_userID` (`start_userID`),   CONSTRAINT `FK_start_userID` FOREIGN KEY (`start_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `thread` (
  `forumID` int NOT NULL,
  `threadID` int NOT NULL AUTO_INCREMENT,
  `title` varchar(500) NOT NULL,
  `addedDate` datetime NOT NULL,
  `status` enum('Open', 'Closed', 'Removed') NOT NULL DEFAULT 'Open',
  `start_userID` int NOT NULL,
  PRIMARY KEY (`forumID`,`threadID`),
  KEY `idx_threadID` (`threadID`),
  CONSTRAINT `FK_start_userID` FOREIGN KEY (`start_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `thread` (   `forumID` int NOT NULL,   `threadID` int NOT NULL AUTO_INCREMENT,   `title` varchar(500) NOT NULL,   `addedDate` datetime NOT NULL,   `status` enum('Open', 'Closed', 'Removed') NOT NULL DEFAULT 'Open',   `start_userID` int NOT NULL,   PRIMARY KEY (`forumID`,`threadID`),   KEY `idx_threadID` (`threadID`),   CONSTRAINT `FK_start_userID` FOREIGN KEY (`start_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
select * from thread;
describe thread;
CREATE TABLE `ban` (
  `userID` int NOT NULL,
  `forumID` int NOT NULL,
  `expiration` datetime NOT NULL,
  PRIMARY KEY (`userID`,`forumID`),
  CONSTRAINT `FK_ban_userID` FOREIGN KEY (`userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `FK_ban_forumID` FOREIGN KEY (`forumID`) REFERENCES `forum` (`forumID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `ban` (   `userID` int NOT NULL,   `forumID` int NOT NULL,   `expiration` datetime NOT NULL,   PRIMARY KEY (`userID`,`forumID`),   CONSTRAINT `FK_ban_userID` FOREIGN KEY (`userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION,   CONSTRAINT `FK_ban_forumID` FOREIGN KEY (`forumID`) REFERENCES `forum` (`forumID`) ON DELETE NO ACTION ON UPDATE NO ACTION ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
insert into thread values (5, null, 'This is the first test thread', now(), 'Open', 2);
use cs431s17
show tables;
select * from thread;
select * from forum;
PuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuT;
describe forum;
ls
;
show tables;
select * from thread;
show tables;
describe forum;
CREATE TABLE `post` (
  `forumID` int NOT NULL,
  `threadID` int NOT NULL,
  `postID` int NOT NULL AUTO_INCREMENT,
  `addedDate` datetime NOT NULL,
  `text` TEXT,
  `poster_userID` int NOT NULL,
  `isFirst` bit NOT NULL DEFAULT 0,
  PRIMARY KEY (`forumID`,`threadID`,`postID`),
  KEY `idx_threadID` (`threadID`),
  CONSTRAINT `FK_post_userID` FOREIGN KEY (`poster_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `post` (   `forumID` int NOT NULL,   `threadID` int NOT NULL,   `postID` int NOT NULL AUTO_INCREMENT,   `addedDate` datetime NOT NULL,   `text` TEXT,   `poster_userID` int NOT NULL,   `isFirst` bit NOT NULL DEFAULT 0,   PRIMARY KEY (`forumID`,`threadID`,`postID`),   KEY `idx_threadID` (`threadID`),   CONSTRAINT `FK_post_userID` FOREIGN KEY (`poster_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `post` (
  `forumID` int NOT NULL,
  `threadID` int NOT NULL,
  `postID` int NOT NULL AUTO_INCREMENT,
  `addedDate` datetime NOT NULL,
  `text` TEXT,
  `poster_userID` int NOT NULL,
  `isFirst` bit NOT NULL DEFAULT 0,
  PRIMARY KEY (`forumID`,`threadID`,`postID`),
  KEY `idx_postID` (`postID`),
  KEY `idx_threadID` (`threadID`),
  CONSTRAINT `FK_post_userID` FOREIGN KEY (`poster_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `post` (   `forumID` int NOT NULL,   `threadID` int NOT NULL,   `postID` int NOT NULL AUTO_INCREMENT,   `addedDate` datetime NOT NULL,   `text` TEXT,   `poster_userID` int NOT NULL,   `isFirst` bit NOT NULL DEFAULT 0,   PRIMARY KEY (`forumID`,`threadID`,`postID`),   KEY `idx_postID` (`postID`),   KEY `idx_threadID` (`threadID`),   CONSTRAINT `FK_post_userID` FOREIGN KEY (`poster_userID`) REFERENCES `users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
select * from post;
describe post;
select * from thread;
insert into post VALUES (5, 1, null, now(), 'This is the first post of this thread', 2, 1);
insert into post VALUES (5, 1, null, now(), 'This is the second post of this thread', 3, 0);
select * from post;
select isFirst, p.* from post p;
select * from post where isFirst = 1;
select * from post where isFirst = 0;
select * from post;
use cs431s17
select * from post;
update post set text = 'This is the second post of this thread, I wanted to make it very long so that I can see how the wrapping is working.  You shouldn''t have to worry about the length of the post when it is showing up on the page. Reading table information for completion of table and column names You can turn off this feature to get a quicker startup with -A Database changed.' where postID = 2;
use cs431s17
ls
;
select * from thread;
select * from post;
select * from post where threadid = 2;
delete from thread where threadid =2;
select * from post;
select * from post where isFirst = 0;
select * from post where isFirst = 1;
use cs431s17
select * from thread;
use cs431s17
select * from forum;
use cs431s17
descript forum;
describe forum;
select forumID, forumName, description, status FROM forum;
update forum ste forumName = 'Politics', description = 'Red vs Blue...don''t be petty' where forumID = 2;
update forum set forumName = 'Politics', description = 'Red vs Blue...don''t be petty' where forumID = 2;
update forum set forumName = 'General', description = 'A general forum for any topic.' WHERE forumID = 1;
update forum set forumName = 'Test', description = 'A forum for testing things.' WHERE forumID = 6;
update forum set forumName = 'Sports', description = 'A forum to discuss sports.' WHERE forumID = 3;
